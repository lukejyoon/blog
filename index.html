<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Jeong Yoon Hwan</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f2f4f7;
      --ink:#000;
      --gap:50px;   /* space between divider and main */
      --line:7px;   /* thickness for divider & name underline */
      --pad:24px;   /* inner padding */
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:var(--ink);
      font:16px/1.6 Poppins,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    }

    .app{
      min-height:100vh;
      display:grid;
      grid-template-columns: clamp(200px,25vw,280px) 1fr;
      column-gap:var(--gap);
      padding:var(--pad) 0;
    }

    /* Sidebar */
    .sidebar{
      padding:var(--pad);
      border-right:var(--line) solid var(--ink);
      text-align:center;
    }

    .sidebar h1{
      display:inline-block; /* underline matches text width */
      margin:0;
      font-size:1.5rem;
      padding-bottom:10px;
    }
    .sidebar h1::after{
      content:"";
      display:block;
      height:var(--line);
      background:var(--ink);
    }

    .nav{
      list-style:none;
      margin:12px 0 0;
      padding:0;
    }
    .nav li{ padding:.6rem 0; }

    a, a:visited{
      color:inherit;
      text-decoration:none;
      font-weight:500;
      text-underline-offset:6px;
    }
    .nav a:hover,
    .nav a:focus-visible,
    .nav a:active{
      text-decoration:underline;
      text-decoration-thickness:calc(var(--line)*.5);
    }

    /* Main column */
    .main{
      padding:var(--pad);
      /* balance to divider centerline without touching sidebar */
      padding-right:calc(var(--pad) + var(--gap) - var(--line)/2);
    }

    /* Ensure loaded page content uses full column width (prevents early wrap) */
    #view{ width:100%; max-width:none; }
    #view > *{ max-width:none; }
    #view p{ overflow-wrap:anywhere; word-break:normal; }
  </style>
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <h1>Yoonhwan Jeong</h1>
      <ul class="nav">
        <li><a href="/projects" data-route>Projects</a></li>
        <li><a href="/logs" data-route>Logs</a></li>
      </ul>
    </aside>

    <section class="main">
      <div id="view" class="view" aria-live="polite"></div>
    </section>
  </div>

  <script>
    const routes = {
      "/projects": "/pages/projects.html",
      "/logs": "/pages/logs.html",
    };

    const canon = p => (p !== "/" && p.endsWith("/")) ? p.slice(0,-1) : p;

    function setActive(path) {
      document.querySelectorAll('[data-route]').forEach(a => {
        a.classList.toggle('active', a.getAttribute('href') === path);
      });
    }

    async function renderPath(path) {
      path = canon(path);
      const target = routes[path] ? path : "/projects"; // default to "Projects"
      const view = document.getElementById("view");

      try {
        const res = await fetch(routes[target], { cache: "no-cache" });
        view.innerHTML = await res.text();
      } catch {
        view.innerHTML = "<p>Failed to load.</p>";
      }

      setActive(target);
    }

    function navigate(path, replace = false) {
      path = canon(path);
      if (replace) history.replaceState({ path }, "", path);
      else history.pushState({ path }, "", path);
      renderPath(path);
    }

    document.addEventListener("click", e => {
      const a = e.target.closest('a[data-route]');
      if (!a) return;
      e.preventDefault();
      navigate(a.getAttribute("href"));
    });

    window.addEventListener("popstate", () => renderPath(location.pathname));

    navigate(location.pathname, true);
  </script>
</body>
</html>
